---
title: 四人过桥问题
tags: 
  - Python
  - 算法
excerpt: 使用Python解决四人过桥问题
abbrlink: 5468ce14
date: 2025-3-16
---
## 问题描述
有四个人需要在夜间过桥，过桥时必须携带手电筒。他们只有一个手电筒，手电筒必须由人携带过桥。他们单独过桥的时间分别为`[1, 2, 5, 10]`分钟，两人同行时以较慢者的速度为准。桥每次最多只能承受2个人。问：如何在最短的时间内让所有人都过桥？

![crossing-bridge-1.gif](https://imgs.977958.xyz/uploads//68bda8b51506b_crossing-bridge-1.gif)

在这个问题中，我们将寻找用时最短的方案。  


## 算法思路
1. 优先让最快的两人过桥，减少总时间。
2. 让最快的两人交替返回，确保手电筒能高效传递。
3. 让最慢的两人一起过桥，避免时间浪费。

```python
def solve(a):
    left, right = sorted(a), []
    time, state, steps = 0, 1, []

    while left:
        if state % 2:
            move = left[:2] if state % 4 == 1 else left[-2:]
            time += max(move)
            steps.append(f"{move}过桥")
            for p in move:
                left.remove(p)
                right.append(p)
        else:
            p = min(right)
            time += p
            steps.append(f"{p}返回")
            right.remove(p)
            left = sorted(left + [p])
        state += 1

    return time, " ".join(steps)


if __name__ == "__main__":
    time, steps = solve([1, 2, 5, 10])
    print(f"最短用时：{time}分钟\n方案：{steps}")
```

运行代码后，程序会输出用时最短的方案：
```txt
最短用时：17分钟
方案：[1, 2]过桥 1返回 [5, 10]过桥 2返回 [1, 2]过桥
```


## 动画演示
这里是我做的一个演示动画：

![crossing-bridge-2.gif](https://imgs.977958.xyz/uploads//68bda8bc5ce89_crossing-bridge-2.gif)
